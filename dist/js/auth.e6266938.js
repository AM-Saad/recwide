(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["auth"],{"2fef":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("AuthForms")],1)},o=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{loader:e.loading}},[s("form",{ref:"signup",staticClass:"formSignup none",attrs:{method:"post",action:"/form",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.signup()}}},[s("div",{},[s("h3",[e._v("Sign up")]),s("p",{staticClass:"signup-error",staticStyle:{color:"red","margin-top":"10px"}}),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name-client"}},[e._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name-client",name:"name",placeholder:"Name",autocomplete:"off"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email-client"}},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email-client",name:"email",placeholder:"Email address",autocomplete:"false | unknown-autocomplete-value"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password-client"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password-client",name:"password",placeholder:"Password",autocomplete:"false | unknown-autocomplete-value"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("a",{on:{click:function(t){return e.toggleForms("login","signup")}}},[e._v("\n        Already have account\n        "),s("b",[e._v("Login")])]),s("input",{staticClass:"btn",attrs:{type:"submit",value:"Sign up"}})])]),s("form",{ref:"login",staticClass:"formLogin none",attrs:{method:"post",action:"/form",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.login()}}},[s("div",{},[s("h3",[e._v("Login")]),s("p",{staticClass:"login-error",staticStyle:{color:"red","margin-top":"10px"}}),s("p",{staticClass:"login-success",staticStyle:{color:"green","margin-top":"10px"}}),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"login-email-client"}},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"login-email-client",name:"email",placeholder:"Email address",autocomplete:"false | unknown-autocomplete-value"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"login-password-client"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"login-password-client",name:"password",placeholder:"Password",autocomplete:"false | unknown-autocomplete-value"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("a",{on:{click:function(t){return e.toggleForms("signup","login")}}},[e._v("\n        You dont have account\n        "),s("b",[e._v("Sign up")])]),s("input",{staticClass:"btn",attrs:{type:"submit",value:"Login"}})])])])},r=[],i=(s("7f7f"),s("96cf"),s("3b8d")),l={name:"AuthForms",data:function(){return{name:"",email:"",password:"",loading:!1}},mounted:function(){var e=this.$route.params.type;console.log(e),this.$refs[e].classList.add("block")},created:function(){},methods:{signup:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.resetFeedbackMsgs(),this.name&&this.email&&this.password){e.next=3;break}return e.abrupt("return",document.querySelector(".signup-error").innerHTML="Please add your informations ");case 3:return this.loading=!0,e.next=6,this.$store.dispatch({type:"user/signup",data:{name:this.name,email:this.email,password:this.password}});case 6:if(t=e.sent,console.log(t),t.state){e.next=11;break}return this.loading=!1,e.abrupt("return",document.querySelector(".signup-error").innerHTML=t.msg);case 11:this.loading=!1,document.querySelector(".login-success").innerHTML="Thank you, please login now",this.$refs.login.classList.add("block"),this.$refs.signup.classList.remove("block"),this.toggleForms("login","signup");case 16:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.resetFeedbackMsgs(),this.email&&this.password){e.next=3;break}return e.abrupt("return",document.querySelector(".login-error").innerHTML="Please add your informations ");case 3:return this.loading=!0,e.next=6,this.$store.dispatch({type:"user/login",data:{email:this.email,password:this.password}});case 6:if(t=e.sent,console.log(t),t.state){e.next=11;break}return this.loading=!1,e.abrupt("return",document.querySelector(".login-error").innerHTML=t.msg);case 11:return localStorage.setItem("uid",t.json._id),e.abrupt("return",this.$router.push("/"));case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggleForms:function(e,t){this.resetFeedbackMsgs(),this.$refs[e].classList.add("block"),this.$refs[t].classList.remove("block")},resetFeedbackMsgs:function(){document.querySelector(".login-success").innerHTML="",document.querySelector(".login-error").innerHTML="",document.querySelector(".signup-error").innerHTML=""}},watch:{"$route.params.type":function(e){"signup"==e?this.toggleForms("signup","login"):this.toggleForms("login","signup")}}},u=l,c=(s("6a78"),s("2877")),m=Object(c["a"])(u,n,r,!1,null,null,null),p=m.exports,d={name:"Auth",data:function(){return{}},components:{AuthForms:p}},g=d,f=Object(c["a"])(g,a,o,!1,null,null,null);t["default"]=f.exports},"6a78":function(e,t,s){"use strict";var a=s("e3f5"),o=s.n(a);o.a},e3f5:function(e,t,s){}}]);
//# sourceMappingURL=auth.e6266938.js.map